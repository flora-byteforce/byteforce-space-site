<script src="https://cdn.plaid.com/link/v2/stable/link-initialize.js"></script>
<button id="link">Connect Bank</button>
<script>
  const LINK_TOKEN = "link-production-f9a62a8e-349e-40e5-9f3e-dbc697d126e3";

  const handler = Plaid.create({
    token: LINK_TOKEN,
    onSuccess(public_token, metadata) {
      console.log("Public Token:", public_token);
      console.log("Success metadata:", metadata);
      alert("Success. Public token is in the console.");
    },
    onExit(err, metadata) {
      console.log("Exit err:", err);
      console.log("Exit metadata:", metadata);
      if (err) alert("Link exited: " + (err.display_message || err.error_message || "See console"));
    },
    onEvent(eventName, metadata) {
      console.log("Link event:", eventName, metadata);
      // Look for institution_id/name, mfa_type, error_code, status, link_session_id
    }
  });

  document.getElementById("link").onclick = () => handler.open();
</script>
